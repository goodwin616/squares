<mat-toolbar color="primary" class="app-toolbar">
  <span routerLink="/" style="cursor: pointer">{{ title() }}</span>
  <span class="spacer"></span>

  @let user = user$ | async;
  @if (user === undefined) {
    <mat-spinner diameter="24" color="accent"></mat-spinner>
  } @else if (user) {
    @if (isSuperAdmin$ | async) {
      <button mat-button color="accent" routerLink="/admin/super">
        <mat-icon>security</mat-icon>
        Super Admin
      </button>
    }
    <button mat-button routerLink="/">Dashboard</button>

    <button mat-icon-button [title]="user.displayName" class="user-profile">
      @if (user.photoURL) {
        <img [src]="user.photoURL" alt="Profile" class="profile-pic" />
      } @else {
        <mat-icon>account_circle</mat-icon>
      }
    </button>

    <button mat-button (click)="logout()">Logout</button>
  } @else {
    <button mat-button (click)="login()">Login with Google</button>
  }
</mat-toolbar>

<main class="content-container">
  <router-outlet></router-outlet>
</main>

<footer class="app-footer">
  <div class="footer-content">
    <div class="footer-links">
      <a routerLink="/faq">FAQ</a>
      <a href="https://github.com/goodwin616/squares" target="_blank" rel="noopener">GitHub</a>
    </div>
    <div class="footer-copy">
      &copy; {{ currentYear }} Squares. Built with &hearts;
    </div>
  </div>
  <div class="footer-legal">
    <strong>LEGAL NOTICE</strong>
    <p>
      Squares is a scorekeeping and hosting tool for entertainment only. We do not facilitate online gambling. 
      Users are strictly prohibited from using this platform in violation of any local, state, or federal laws. 
      The responsibility for legal compliance rests solely with the user.
    </p>
  </div>
</footer>
